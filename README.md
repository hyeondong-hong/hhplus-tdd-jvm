## 동시성 제어 방식에 대한 분석 및 보고서

1. 주요 기능
   - 포인트 충전, 사용, 조회, 내역 조회 기능을 구현합니다.
   - 동시에 여러 요청이 들어오는 상황에서 동시성 제어를 처리하도록 요구됩니다.
   - 각 기능에 대해 단위 테스트 및 통합 테스트를 작성해야 하며, 테스트 주도 개발 방식을 따릅니다.

2. 진행 과정
   - 초기 동기화 처리 방식으로 Java의 synchronized 키워드를 사용했으나, 레이스 컨디션 문제가 있을 수 있어 개선이 필요함을 확인했습니다.
   - 이후 ReentrantLock을 적용하여 대기 순서를 보장하며 동시성을 제어하는 방식으로 리팩토링을 진행했습니다.
   - 최종적으로 동시성 문제를 해결하기 위해 ConcurrentHashMap과 ReentrantLock을 활용한 가상 트랜잭션 관리 컴포넌트를 설계했습니다.

3. 테스트
   - 각 기능에 대한 **단위 테스트**와 **통합 테스트**를 작성했습니다.
   - 단위 테스트에서는 Mock 객체를 활용하여 PointService의 기본 동작을 검증했고, 통합 테스트에서는 실제 의존성 주입을 통한 테스트를 수행했습니다.
   - 테스트 케이스는 주로 포인트 충전, 사용 시 발생할 수 있는 예외 처리와 동시 접근 문제를 중점으로 다루었습니다.

4. 과정 중 겪은 어려움
   - 의존성 주입(DI)에 대한 개념적 이해가 필요했고, Mock과 Stub 개념의 사용에 익숙해지기까지 어려움을 겪었습니다.
   - 단위 테스트와 통합 테스트의 차이점에 대한 이해가 필요했으며, TDD 방식에 맞춘 테스트 코드 작성 과정에서 시행착오가 있었습니다.
